### Day 5 Testing - Auth: Signup, Login, /me

### Test 1: Get Organizations (to get ID for signup)
GET http://localhost:3000/health

###

### Test 2: Signup - Create New User
POST http://localhost:3000/auth/signup
Content-Type: application/json

{
  "email": "newuser@acme.com",
  "password": "Password123!",
  "firstName": "New",
  "lastName": "User",
  "organizationId": "{{orgId}}"
}

###

### Test 3: Login with Existing User
POST http://localhost:3000/auth/login
Content-Type: application/json

{
  "email": "admin@acme.com",
  "password": "Password123!"
}

###

### Test 4: Login with Wrong Password (Should fail)
POST http://localhost:3000/auth/login
Content-Type: application/json

{
  "email": "admin@acme.com",
  "password": "WrongPassword"
}

###

### Test 5: Get Current User (/me) - Replace {{token}} with actual token from login
GET http://localhost:3000/auth/me
Authorization: Bearer {{token}}

###

### Test 6: Get /me without token (Should fail with 401)
GET http://localhost:3000/auth/me

###

### Test 7: Signup with Weak Password (Should fail)
POST http://localhost:3000/auth/signup
Content-Type: application/json

{
  "email": "test@acme.com",
  "password": "weak",
  "firstName": "Test",
  "lastName": "User",
  "organizationId": "{{orgId}}"
}

###

### Test 8: Signup with Duplicate Email (Should fail)
POST http://localhost:3000/auth/signup
Content-Type: application/json

{
  "email": "admin@acme.com",
  "password": "Password123!",
  "firstName": "Duplicate",
  "lastName": "User",
  "organizationId": "{{orgId}}"
}

###

### Test 9: Signup with Invalid Organization ID (Should fail)
POST http://localhost:3000/auth/signup
Content-Type: application/json

{
  "email": "test2@acme.com",
  "password": "Password123!",
  "firstName": "Test",
  "lastName": "User",
  "organizationId": "00000000-0000-0000-0000-000000000000"
}

###

### Instructions:
### 1. First, run Test 3 (Login) to get an access token
### 2. Copy the "accessToken" from the response
### 3. Replace {{token}} in Test 5 with the actual token
### 4. For signup tests, you need a valid organizationId
###    - Use Prisma Studio to get an org ID: npm run prisma:studio
###    - Or use one from the seed data
